if (self.CavalryLogger) { CavalryLogger.start_js(["5xl3w"]); }

__d("ConversationGuideUIEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUGGESTION_VPV:"conversation_guide_suggestion_vpv",SUGGESTION_SELECTED:"conversation_guide_suggestion_selected",SOFT_DISMISS:"conversation_guide_soft_dismiss",HARD_DISMISS:"conversation_guide_hard_dismiss"})}),null);
__d("ConversationGuideUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ConversationGuideUILoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ConversationGuideUILoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ConversationGuideUILoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFeedbackID=function(a){this.$1.feedback_id=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setSuggestionID=function(a){this.$1.suggestion_id=a;return this};a.prototype.setSuggestionIndex=function(a){this.$1.suggestion_index=a;return this};a.prototype.setSuggestionType=function(a){this.$1.suggestion_type=a;return this};a.prototype.setTrackingID=function(a){this.$1.tracking_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={event:!0,feedback_id:!0,name:!0,suggestion_id:!0,suggestion_index:!0,suggestion_type:!0,tracking_id:!0,vc:!0};e.exports=a}),null);
__d("UFIConversationGuideEmojiItem_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIConversationGuideEmojiItem_item",type:"EmojiSuggestion",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"unicode_string",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIConversationGuideEmojiItem.react",["cx","ConversationGuideSuggestionType","ConversationGuideUIEvent","ConversationGuideUITypedLogger","DOMContainer.react","EmojiImageURL","EmojiRenderer","FBEmojiUtils","Image.react","React","ReactDOM","RelayModern","ShimButton.react","UFIConversationGuideEmojiItem_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=30;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.itemRef=b("React").createRef(),this.hasLoggedVPV=!1,this.$1=function(){var a=this.props,c=a.contextArgs.ftentidentifier,d=a.trackingID,e=a.rankedIndex;a=a.item;var f=a.id;a=a.unicode_string;this.props.handleTextAdd(a);new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_SELECTED).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").EMOJI).setSuggestionIndex(e).setSuggestionID(f).setTrackingID(d).log();this.props.onClickHandled&&this.props.onClickHandled(this.props.key)}.bind(this),c}a.prototype.checkForVpv=function(a,c){if(this.hasLoggedVPV||!this.itemRef.current)return;var d=b("ReactDOM").findDOMNode(this.itemRef.current);if(!d)return;d=d.getBoundingClientRect();(d.left>a.left&&d.left<a.right-c||d.right>a.left+c&&d.right<a.right)&&this.logVpv()};a.prototype.logVpv=function(){if(this.hasLoggedVPV)return;this.hasLoggedVPV=!0;var a=this.props,c=a.contextArgs.ftentidentifier,d=a.rankedIndex;a=a.item.id;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_VPV).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").EMOJI).setSuggestionIndex(d).setSuggestionID(a).setTrackingID(this.props.trackingID).log()};a.prototype.render=function(){var a=this.props.item.unicode_string;if(!a)return null;var c=b("EmojiRenderer").render(a,function(a){var c=b("FBEmojiUtils").getSupportedKey(a);return c?b("React").createElement(b("Image.react"),{key:c,className:"_6s4v",src:b("EmojiImageURL").getFBEmojiURL(c,i)}):b("React").createElement(b("DOMContainer.react"),{key:a},a)});return b("React").createElement(b("ShimButton.react"),{ref:this.itemRef,className:"_6lze","aria-label":a,onClick:this.$1},b("React").createElement("div",{className:"_6nd5"},c))};e.exports=c(a,{item:function(){return b("UFIConversationGuideEmojiItem_item.graphql")}})}),null);
__d("UFIConversationGuideFixedList.react",["cx","fbt","invariant","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=6;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.getEligableChildren=function(){return(this.props.children||[]).slice(0,k)};a.prototype.componentDidMount=function(){__p&&__p();this.getEligableChildren().map(function(a){__p&&__p();if(!a||!a.key)return;a=a.key;a!==null||i(0,495);if(this.props.keyRefMap.has(a)){a=this.props.keyRefMap.get(a);if(!a)return;a=a.current;a&&a.logVpv&&a.logVpv()}}.bind(this))};a.prototype.render=function(){var a=this.props.behavior,c=a.showHeader;a=a.showDismissButton;var d=this.getEligableChildren();!c&&a&&d.push(b("React").createElement("div",{key:"closeButtonContainer",className:"_6o3h"},b("React").createElement(b("ShimButton.react"),{key:"closeButton","aria-label":h._("Close"),onClick:this.props.onCloseButtonClick,className:"_6n-z _6rs2"})));return b("React").createElement("div",{className:"_6hic"},d)};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("UFIConversationGuideHScroll.react",["ix","cx","fbt","Image.react","React","ShimButton.react","XUICarousel.react","XUICarouselAnimator","XUICarouselItem.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=20;c=babelHelpers.inherits(m,b("XUICarouselAnimator"));j=c&&c.prototype;function m(a){j.constructor.call(this,a),a&&a.onUpdate&&(this.onUpdate=a.onUpdate)}m.prototype.createAnimation=function(a){var b=j.createAnimation.call(this,a);b&&b.addListener("done",function(){this.onUpdate&&this.onUpdate(a)}.bind(this));return b};m.prototype.update=function(a){j.update.call(this,a),this.onUpdate&&this.onUpdate(a)};d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(a){k.constructor.call(this,a),this.state={lastItemVisible:!1,firstItemVisible:!1},this.carouselRef=b("React").createRef(),this.$1=function(a){this.$2(a.viewport);var b=(this.props.children||[]).length-1;this.setState({lastItemVisible:this.animator.isItemVisible(a,b),firstItemVisible:this.animator.isItemVisible(a,0)})}.bind(this),this.animator=new m({type:"horizontal",centered:!1,onUpdate:this.$1})}a.prototype.$2=function(a){var b=a.getBoundingClientRect();this.props.keyRefMap.forEach(function(a){a=a.current;a&&a.checkForVpv&&a.checkForVpv(b,l)})};a.prototype.$3=function(){var a=[];this.state.firstItemVisible||a.push(b("React").createElement(b("ShimButton.react"),{onClick:function(){var a=this.carouselRef.current;a&&a.prev()}.bind(this),key:"prevButton",className:"_6rs3"},b("React").createElement(b("Image.react"),{className:"_6rs4",alt:i._("Prev"),src:g("503176")})));return a.length>0?b("React").createElement("div",{key:"leftControls",className:"_6rs2 _6rs5"},a):null};a.prototype.$4=function(){var a=this.props.behavior,c=a.showHeader;a=a.showDismissButton;var d=[];this.state.lastItemVisible||d.push(b("React").createElement(b("ShimButton.react"),{key:"nextButton",onClick:function(){var a=this.carouselRef.current;a&&a.next()}.bind(this),className:"_6rs3"},b("React").createElement(b("Image.react"),{className:"_6rs4",alt:i._("Next"),src:g("496753")})));!c&&a&&d.push(b("React").createElement(b("ShimButton.react"),{key:"closeButton",onClick:this.props.onCloseButtonClick,className:"_6rs3"},b("React").createElement(b("Image.react"),{className:"_6rs4",alt:i._("Close"),src:g("493873")})));return d.length>0?b("React").createElement("div",{key:"rightControls",className:"_6rs2 _6rs6"},d):null};a.prototype.render=function(){var a=this.$3(),c=this.$4(),d=this.props.children||[];d=d.map(function(a){return a?b("React").createElement(b("XUICarouselItem.react"),{key:a.key},a):null});return b("React").createElement("div",{className:"_6hic"},a,b("React").createElement(b("XUICarousel.react"),{animator:this.animator,className:"_6hi8",initialindex:1,initialAutoplay:!1,moveStep:2,wrapAround:!1,ref:this.carouselRef,resizeViewport:"disabled",onItemClick:function(){},renderArrowsOutsideViewport:!0},d),c)};e.exports=a}),null);
__d("UFIConversationGuideMentionItem_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIConversationGuideMentionItem_item",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:24,width:24)",args:[{kind:"Literal",name:"height",value:24,type:"Int"},{kind:"Literal",name:"width",value:24,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIConversationGuideMentionItem.react",["cx","ConversationGuideSuggestionType","ConversationGuideUIEvent","ConversationGuideUITypedLogger","Image.react","React","ReactDOM","RelayModern","SearchableEntry","ShimButton.react","UFIConversationGuideMentionItem_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.itemRef=b("React").createRef(),this.hasLoggedVPV=!1,this.$1=function(){__p&&__p();var a=this.props,c=a.contextArgs.ftentidentifier,d=a.trackingID,e=a.rankedIndex;a=a.item;var f=a.id,g=a.name;a=a.short_name;if(!f||!a)return;a=new(b("SearchableEntry"))({uniqueID:f,title:a,subtitle:g,type:"user"});this.props.handleMentionAdd(a);new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_SELECTED).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").MENTION).setSuggestionIndex(e).setSuggestionID(f).setTrackingID(d).log();this.props.onClickHandled&&this.props.onClickHandled(this.props.key)}.bind(this),c}a.prototype.checkForVpv=function(a,c){if(this.hasLoggedVPV||!this.itemRef.current)return;var d=b("ReactDOM").findDOMNode(this.itemRef.current);if(!d)return;d=d.getBoundingClientRect();(d.left>a.left&&d.left<a.right-c||d.right>a.left+c&&d.right<a.right)&&this.logVpv()};a.prototype.logVpv=function(){if(this.hasLoggedVPV)return;this.hasLoggedVPV=!0;var a=this.props,c=a.contextArgs.ftentidentifier,d=a.rankedIndex;a=a.item.id;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_VPV).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").MENTION).setSuggestionIndex(d).setSuggestionID(a).setTrackingID(this.props.trackingID).log()};a.prototype.render=function(){var a=this.props.item,c=a.name,d=a.profile_picture;a=a.short_name;d=d?d.uri:undefined;d=d?b("React").createElement(b("Image.react"),{className:"_6lzf",src:d}):null;return b("React").createElement(b("ShimButton.react"),{ref:this.itemRef,className:"_6lxo"+(d?"":" _6lxp"),"data-hover":"tooltip","aria-label":c,"data-tooltip-content":c,onClick:this.$1},d,b("React").createElement("div",{className:"_6lxq"},"@",a))};e.exports=c(a,{item:function(){return b("UFIConversationGuideMentionItem_item.graphql")}})}),null);
__d("UFIConversationGuideRowQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"feedbackTargetID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"callerID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"tracking",type:"String",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"feedbackTargetID",type:"ID!"}],c=[{kind:"Variable",name:"caller_id",variableName:"callerID",type:"ID"},{kind:"Variable",name:"tracking",variableName:"tracking",type:"String"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f=[e],g={kind:"InlineFragment",type:"WWWConversationGuideUFIParameters",selections:[{kind:"ScalarField",alias:null,name:"header_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"show_header",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"remove_suggestion_on_select",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dismiss_on_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dismiss_on_select",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"show_dismiss_button",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"click_to_send",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},j=[i],k={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"UFIConversationGuideRowQuery",id:"1707849952675175",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFIConversationGuideRowQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"suggested_feedback",storageKey:null,args:c,concreteType:"SuggestedFeedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"guide_suggestions",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"FragmentSpread",name:"UFIConversationGuideStickerItem_item",args:null},{kind:"FragmentSpread",name:"UFIConversationGuideMentionItem_item",args:null},{kind:"FragmentSpread",name:"UFIConversationGuideEmojiItem_item",args:null},{kind:"FragmentSpread",name:"UFIConversationGuideTextItem_item",args:null},{kind:"InlineFragment",type:"TextSuggestion",selections:f},{kind:"InlineFragment",type:"EmojiSuggestion",selections:f},{kind:"InlineFragment",type:"Sticker",selections:f},{kind:"InlineFragment",type:"User",selections:f}]},{kind:"LinkedField",alias:null,name:"guide_behavior",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g]}]}]}]},operation:{kind:"Operation",name:"UFIConversationGuideRowQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"suggested_feedback",storageKey:null,args:c,concreteType:"SuggestedFeedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"guide_suggestions",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,e,{kind:"InlineFragment",type:"TextSuggestion",selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"InlineFragment",type:"EmojiSuggestion",selections:[{kind:"ScalarField",alias:null,name:"unicode_string",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Sticker",selections:[h,{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[h,i,k]},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[l,e]},{kind:"LinkedField",alias:null,name:"padded_sprite_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:j},k]},{kind:"InlineFragment",type:"User",selections:[l,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:24,width:24)",args:[{kind:"Literal",name:"height",value:24,type:"Int"},{kind:"Literal",name:"width",value:24,type:"Int"}],concreteType:"Image",plural:!1,selections:j},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"guide_behavior",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,g]}]},e]}]}}}();e.exports=a}),null);
__d("UFIConversationGuideStickerItem_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},b=[a],c={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null};return{kind:"Fragment",name:"UFIConversationGuideStickerItem_item",type:"Sticker",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:b},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},c,{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[c,a,d]},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"padded_sprite_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:b},d]}}();e.exports=a}),null);
__d("UFIConversationGuideStickerItem.react",["cx","ConversationGuideSuggestionType","ConversationGuideUIEvent","ConversationGuideUITypedLogger","React","ReactDOM","RelayModern","ShimButton.react","Sticker.react","StickerUtils","UFIConversationGuideStickerItem_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=48;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.itemRef=b("React").createRef(),this.hasLoggedVPV=!1,this.$1=function(){var a=this.props,c=a.contextArgs.ftentidentifier,d=a.trackingID,e=a.rankedIndex;a=a.item.id;this.props.handleStickerAdd(a);new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_SELECTED).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").STICKER).setSuggestionIndex(e).setSuggestionID(a).setTrackingID(d).log();this.props.onClickHandled&&this.props.onClickHandled(this.props.key)}.bind(this),c}a.prototype.checkForVpv=function(a,c){if(this.hasLoggedVPV||!this.itemRef.current)return;var d=b("ReactDOM").findDOMNode(this.itemRef.current);if(!d)return;d=d.getBoundingClientRect();(d.left>a.left&&d.left<a.right-c||d.right>a.left+c&&d.right<a.right)&&this.logVpv()};a.prototype.logVpv=function(){if(this.hasLoggedVPV)return;this.hasLoggedVPV=!0;var a=this.props,c=a.contextArgs.ftentidentifier,d=a.rankedIndex;a=a.item.id;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_VPV).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").STICKER).setSuggestionIndex(d).setSuggestionID(a).setTrackingID(this.props.trackingID).log()};a.prototype.render=function(){var a=this.props.item;if(!a.image||!a.pack)return null;var c=a.pack.name,d=b("StickerUtils").getScaledDimensions(a.height||0,a.width||0,i),e,f,g;a.animated_image?e=a.animated_image.uri:a.image&&(e=a.image.uri);a.sprite_image&&(f=a.sprite_image.uri);a.padded_sprite_image&&(g=a.padded_sprite_image.uri);return!e&&!f&&!g?null:b("React").createElement(b("ShimButton.react"),{ref:this.itemRef,className:"_6lxd",onClick:this.$1},b("React").createElement(b("Sticker.react"),{accessibilityLabel:a.label,animationTrigger:"hover",className:"_6mnr",forceCursorPointer:!0,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:c,paddedSpriteURI:g,sourceHeight:d.height,sourceURI:e,sourceWidth:d.width,spriteURI:f,stickerID:a.id}))};e.exports=c(a,{item:function(){return b("UFIConversationGuideStickerItem_item.graphql")}})}),null);
__d("UFIConversationGuideTextItem_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIConversationGuideTextItem_item",type:"TextSuggestion",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIConversationGuideTextItem.react",["cx","ConversationGuideSuggestionType","ConversationGuideUIEvent","ConversationGuideUITypedLogger","React","ReactDOM","RelayModern","ShimButton.react","TextWithEmoticons.react","UFIConversationGuideTextItem_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.itemRef=b("React").createRef(),this.hasLoggedVPV=!1,this.$1=function(){var a=this.props,c=a.contextArgs.ftentidentifier,d=a.trackingID,e=a.rankedIndex;a=a.item;var f=a.id;a=a.text;this.props.handleTextAdd(a);new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_SELECTED).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").TEXT).setSuggestionIndex(e).setSuggestionID(f).setTrackingID(d).log();this.props.onClickHandled&&this.props.onClickHandled(this.props.key)}.bind(this),c}a.prototype.checkForVpv=function(a,c){if(this.hasLoggedVPV||!this.itemRef.current)return;var d=b("ReactDOM").findDOMNode(this.itemRef.current);if(!d)return;d=d.getBoundingClientRect();(d.left>a.left&&d.left<a.right-c||d.right>a.left+c&&d.right<a.right)&&this.logVpv()};a.prototype.logVpv=function(){if(this.hasLoggedVPV)return;this.hasLoggedVPV=!0;var a=this.props,c=a.contextArgs.ftentidentifier,d=a.rankedIndex;a=a.item.id;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SUGGESTION_VPV).setFeedbackID(c).setSuggestionType(b("ConversationGuideSuggestionType").TEXT).setSuggestionIndex(d).setSuggestionID(a).setTrackingID(this.props.trackingID).log()};a.prototype.render=function(){var a=this.props.item.text;return!a?null:b("React").createElement(b("ShimButton.react"),{ref:this.itemRef,"data-hover":"tooltip","aria-label":a,"data-tooltip-content":a,className:"_6lzd",onClick:this.$1},b("React").createElement(b("TextWithEmoticons.react"),{className:"_6nd4",renderEmoticons:!1,renderEmoji:!0,size:16,text:a}))};e.exports=c(a,{item:function(){return b("UFIConversationGuideTextItem_item.graphql")}})}),null);
__d("UFIConversationGuideRow.react",["cx","Arbiter","CommentPrivacyValue","ConversationGuideUIEvent","ConversationGuideUITypedLogger","FDSCloseButton.react","React","ReactDOM","RelayFBEnvironment","RelayModern","SubscriptionsHandler","UFIAddCommentAction","UFIConversationGuideEmojiItem.react","UFIConversationGuideFixedList.react","UFIConversationGuideHScroll.react","UFIConversationGuideMentionItem.react","UFIConversationGuideStickerItem.react","UFIConversationGuideTextItem.react","UFIUIEvents","UFIConversationGuideRowQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("UFIConversationGuideRowQuery.graphql")};c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=new Map(),this.$3=b("React").createRef(),this.$4={headerText:undefined,showHeader:!1,dismissOnType:!0,dismissOnSelect:!0,removeSuggestionOnSelect:!1,showDismissButton:!0,clickToSend:!1},this.state={hidden:!1,interacted:!1,maskedSuggestions:new Set()},this.$6=function(a){if(!a)return;var c=this.props.contextArgs,d=c.ftentidentifier;c=c.instanceid;if(this.$4.clickToSend){var e={encodedValue:a,visibleValue:a,privacy_value:b("CommentPrivacyValue").DEFAULT_PRIVACY};this.props.ufiContextDispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,e,b("ReactDOM").findDOMNode(this.$3.current),undefined))}else b("Arbiter").inform("UFIComment/insertComposerPayload/"+d,{ftentidentifier:d,instanceid:c,emojitext:a},"persistent")}.bind(this),this.$7=function(a){var c=this.props.contextArgs,d=c.ftentidentifier;c=c.instanceid;if(!a.getUniqueID()||!a.getTitle())return;if(this.$4.clickToSend){var e={encodedValue:"@["+a.getUniqueID()+":"+(a.getSubtitle()||a.getTitle())+"]",visibleValue:a.getTitle(),privacy_value:b("CommentPrivacyValue").DEFAULT_PRIVACY};this.props.ufiContextDispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,e,b("ReactDOM").findDOMNode(this.$3.current),undefined))}else b("Arbiter").inform("UFIComment/insertComposerPayload/"+d,{ftentidentifier:d,instanceid:c,mention:a},"persistent")}.bind(this),this.$8=function(a){if(!a)return;var c=this.props.contextArgs,d=c.ftentidentifier;c=c.instanceid;if(this.$4.clickToSend){var e={encodedValue:"",visibleValue:"",attachedSticker:{fbid:a},privacy_value:b("CommentPrivacyValue").DEFAULT_PRIVACY};this.props.ufiContextDispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,e,b("ReactDOM").findDOMNode(this.$3.current),undefined))}else b("Arbiter").inform("UFIComment/insertComposerPayload/"+d,{ftentidentifier:d,instanceid:c,stickerid:a},"persistent")}.bind(this),this.$9=function(a){this.$4.dismissOnSelect&&this.setState({hidden:!0}),this.$4.removeSuggestionOnSelect&&a&&this.setState(function(b){b=new Set(b.maskedSuggestions);b.add(a);return{maskedSuggestions:b}})}.bind(this),this.$12=function(){new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").HARD_DISMISS).setFeedbackID(this.props.contextArgs.ftentidentifier).setTrackingID(this.props.trackingID).log(),this.setState({hidden:!0})}.bind(this),c}a.prototype.$5=function(a){return a.__typename==="TextSuggestion"||a.__typename==="User"};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.$10=function(){__p&&__p();var a=this.props,c=a.trackingID;a=a.contextArgs;var d=a.ftentidentifier,e=a.instanceid;if(this.$4.dismissOnType){var f=b("Arbiter").subscribe("comment_content_change",function(a,g){if(this.state.hidden||!g||g.ftentidentifier!=d||g.instanceid!=e)return;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SOFT_DISMISS).setFeedbackID(d).setTrackingID(c).log();this.setState({hidden:!0});f.unsubscribe()}.bind(this));this.$1.addSubscriptions(f)}a=b("Arbiter").subscribe(b("UFIUIEvents").Comment,function(a,e){a=e.ft_id;e.target;if(this.state.hidden||a!==d)return;new(b("ConversationGuideUITypedLogger"))().setEvent(b("ConversationGuideUIEvent").SOFT_DISMISS).setFeedbackID(d).setTrackingID(c).log();this.setState({hidden:!0})}.bind(this));this.$1.addSubscriptions(a)};a.prototype.componentDidMount=function(){__p&&__p();var a=this.props.contextArgs,c=a.ftentidentifier,d=a.instanceid;this.$1=new(b("SubscriptionsHandler"))();if(this.props.isComposerFocused)this.$10(),this.setState({interacted:!0});else{var e=b("Arbiter").subscribe("UFIAddComment/focus",function(a,b){if(!b||!b.isTopLevelComposer||b.ftentidentifier!=c||b.instanceid!=d)return;this.$10();this.setState({interacted:!0});e.unsubscribe()}.bind(this));this.$1.addSubscriptions(e)}};a.prototype.$11=function(a){this.$4.removeSuggestionOnSelect&&this.setState()};a.prototype.$13=function(a){__p&&__p();var c,d=((c=a)!=null?(c=c.feedback)!=null?(c=c.suggested_feedback)!=null?c.guide_suggestions:c:c:c)||[];a=((c=a)!=null?(c=c.feedback)!=null?(c=c.suggested_feedback)!=null?c.guide_behavior:c:c:c)||{};this.$4={headerText:a.header_text,showHeader:a.show_header,dismissOnType:a.dismiss_on_type,dismissOnSelect:a.dismiss_on_select,removeSuggestionOnSelect:a.remove_suggestion_on_select,showDismissButton:a.show_dismiss_button,clickToSend:a.click_to_send};c=d.filter(function(a){return a.__typename===d[0].__typename}).map(function(a,c){__p&&__p();var d="carousel_item_"+a.id,e;switch(a.__typename){case"User":e=b("UFIConversationGuideMentionItem.react");break;case"Sticker":e=b("UFIConversationGuideStickerItem.react");break;case"EmojiSuggestion":e=b("UFIConversationGuideEmojiItem.react");break;case"TextSuggestion":e=b("UFIConversationGuideTextItem.react");break;default:return null}this.$2.has(d)||this.$2.set(d,b("React").createRef());var f=this.$2.get(d);return b("React").createElement(e,{key:d,contextArgs:this.props.contextArgs,onClickHandled:this.$9,item:a,ref:f,rankedIndex:c,clickToSend:this.$4.clickToSend,trackingID:this.props.trackingID,handleTextAdd:this.$6,handleMentionAdd:this.$7,handleStickerAdd:this.$8})}.bind(this)).filter(function(a){return a&&!this.state.maskedSuggestions.has(a.key)}.bind(this));if(c.length===0){this.setState({hidden:!0});return null}this.$5(d[0])?a=b("React").createElement(b("UFIConversationGuideHScroll.react"),{onCloseButtonClick:this.$12,key:"hscroll",behavior:this.$4,keyRefMap:this.$2},c):a=b("React").createElement(b("UFIConversationGuideFixedList.react"),{onCloseButtonClick:this.$12,key:"fixedlist",behavior:this.$4,keyRefMap:this.$2},c);c=[b("React").createElement("div",{className:"_6n--",key:"headerText"},this.$4.headerText),b("React").createElement("div",{key:"closeButton",className:"_6n-_ _6rs2"},b("React").createElement(b("FDSCloseButton.react"),{onClick:this.$12}))];return b("React").createElement("div",{ref:this.$3,className:"_6hi9"+(this.props.position==="above"?" _6hia":"")+(this.props.position==="below"?" _6hib":"")},b("React").createElement("div",{className:"_6n_0"},b("React").createElement("div",{className:"_6hho"},this.$4.showHeader?c:null),a))};a.prototype.render=function(){__p&&__p();if(this.state.hidden)return null;return this.state.interacted?b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,render:function(a){var b=a.error;a=a.props;if(b){this.setState({hidden:!0});return null}else if(a)return this.$13(a);else return null}.bind(this),variables:{feedbackTargetID:this.props.contextArgs.ftentidentifier,callerID:"www_above_composer",tracking:this.props.trackingID}}):null};e.exports=a}),null);